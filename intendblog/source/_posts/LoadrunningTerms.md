---
title: Loadrunning用法
date: 2020-08-11 10:02:23
tags: Loadrunning
---
此文仅是本人学习笔记。

## 一、loadrunner常用术语
1.场景
•	在loadrunner中主要表现为controller中设计与执行测试用例中的用户场景。主要工作有，在controller中选择虚拟用户脚本、设置虚拟用户数量、配置虚拟用户运行时的行为、选择负载发生器、设置执行时间等。
2.负载发生器
•	用来产生压力的真实机器，受controller控制，可以使用户脚本在不同的主机上执行。在性能测试工作中，通常由一个controller控制多个load generator以对被测试系统进行压力。
在练习中是对本机中进行加压
3.虚拟用户
•	对应于现实中的真实用户，使用loadrunner模拟的用户称为虚拟用户。其本质是通过虚拟用户脚本来模拟真正用户的行为。
4.事务
•	loadrunner通过事务来衡量服务器的性能。在业务上事务通常是用户的一个或一系列操作，代表一定的功能，而在程序上则表现为一段代码区块。测试人员可以将一个或多个操作步骤定义为一个事务，以便衡量这部分的用户并发响应时间。
5.思考时间
•	为了在模拟时更加接近用户的真实行为而引进的概念。在实际中，用户进行一系列操作后往往会进行处理，例如浏览网页内容，而处理过程对服务器是没有压力的。因此在虚拟用户脚本中用函数lr_think_time(double time)来模拟用户处理过程，执行该函数时用户线程会按照相应的time值进行等待。
6.集合点
•	对应于真实用户中的并发点。loadrunner通过集合点实现了真正意义的并发。集合点在虚拟用户脚本中对应函数lr_rendezvous(constchar*rendezvous_name)，当执行到该函数时会按照场景的并发策略来执行。
7.事务响应时间
•	事务响应时间是一个统计量，是评价系统性能的重要参数。定义好事务后，在场景执行过程和测试结果分析中即可看到对应事务的响应时间。通过对关键或核心事务的执行情况进行分析，可以快速定位性能问题。

## 二、性能测试常见用语解析
1.并发用户数量
常见的错误理解：
•	使用系统的全部用户数量
•	使用系统的全部在线用户数量
正确理解：
•	与服务器进行交互的在线用户数量
并发用户数：可以分两种：
1）同一时间点，执行同一（业务）操作的用户数
2）同一时间点，执行不同（业务）操作的用户数
在线用户：当前时间访问系统的用户数
2.请求响应时间
•	从client端发生请求到得到响应的整个时间
•	一般包括网络响应时间+server的响应时间
 响应时间（RT）：响应时间是指系统对请求作出响应的时间，一般取平均响应时间
3.事务请求响应时间
•	完成这个事务所用的时间
这是性能测试中重点关注的指标
4.吞吐率
•	单位时间在网络上传输的数据量
这个是衡量网络性能的主要指标
吞吐率指的是从server端返回client端的数据量，不是从client发送到server的数据量
5.吞吐量
•	网络上传输的数据总量
 吞吐量是指系统在单位时间内处理请求的数量。
6.TPS
•	每秒钟系统能够处理事务的数量
7.点击率
•	每秒发送的HTTP请求的数量
•	点击率越大对server的压力也就越大
注：按一个button并不总是发送一个请求，有时会发送两个以上HTTP请求
PV（Page View）：页面访问量，即页面浏览量或点击量，用户每次刷新即被计算一次。可以统计服务一天的访问日志得到。
8.资源利用率
•	对不同资源的使用程度，比如服务器的CPU，内存等
  系统吞吐量几个重要参数：QPS（TPS）、并发数、响应时间
       QPS（TPS）：每秒钟request/事务数量
       并发数： 系统同时处理的request/事务数
       响应时间：一般取平均响应时间
    理解了上面三个要素的意义之后，就能推算出它们之间的关系：
    QPS（TPS）= 并发数/平均响应时间
